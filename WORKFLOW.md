# –¢—É—Ç–æ—Ä–∏–∞–ª: –ü–æ–ª–Ω—ã–π –†–∞–±–æ—á–∏–π –¶–∏–∫–ª –æ—Ç –î–∞–Ω–Ω—ã—Ö –¥–æ State-of-the-Art –†–µ—à–µ–Ω–∏—è

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–∞—à–µ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞! –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å –∑–∞ —Ä—É–∫—É —á–µ—Ä–µ–∑ **–≤–µ—Å—å —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã** –Ω–∞–¥ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ–º –ø–æ –º–∞—à–∏–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é ‚Äî –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∞–Ω—Å–∞–º–±–ª—è –º–æ–¥–µ–ª–µ–π.

**–¶–µ–ª—å —ç—Ç–æ–≥–æ —Ç—É—Ç–æ—Ä–∏–∞–ª–∞** ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∞ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å **—Ñ–∏–ª–æ—Å–æ—Ñ–∏—é –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**, –ª–µ–∂–∞—â—É—é –≤ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞. –ú—ã –Ω–∞—á–Ω–µ–º —Å –ø—Ä–æ—Å—Ç–æ–≥–æ baseline, –∞ –∑–∞—Ç–µ–º —à–∞–≥ –∑–∞ —à–∞–≥–æ–º –±—É–¥–µ–º –µ–≥–æ —É–ª—É—á—à–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ñ–∏—á–µ-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥, –æ—Ç–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –ø–æ–¥–±–æ—Ä –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Å—Ç–µ–∫–∏–Ω–≥.

## üèÜ –ù–∞—à –ü—Ä–∏–º–µ—Ä: –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ "–¢–∏—Ç–∞–Ω–∏–∫"

–í –∫–∞—á–µ—Å—Ç–≤–µ —Å–∫–≤–æ–∑–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ —Å Kaggle ‚Äî **[Titanic: Machine Learning from Disaster](https://www.kaggle.com/c/titanic)**.

**–ó–∞–¥–∞—á–∞:** –ü—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å, –≤—ã–∂–∏–ª –ø–∞—Å—Å–∞–∂–∏—Ä –∏–ª–∏ –Ω–µ—Ç (`Survived`), –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–∞–∫ –µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª, –∫–ª–∞—Å—Å –∫–∞—é—Ç—ã –∏ —Ç.–¥.

–≠—Ç–æ—Ç –¥–∞—Ç–∞—Å–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (—á–∏—Å–ª–æ–≤—ã–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ, –ø—Ä–æ–ø—É—Å–∫–∏) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–µ—Ö–Ω–∏–∫.

## ‚úÖ –ü—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∞—Ç—å

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –ø–µ—Ä–≤–æ–º—É —à–∞–≥—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –∏–∑ **Quick Start** –≤ [–≥–ª–∞–≤–Ω–æ–º README.md](./README.md).

**–ß–µ–∫-–ª–∏—Å—Ç:**
1.  [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω.
2.  [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ `make install` (–∏–ª–∏ `poetry install`).
3.  [ ] –í—ã —É—Å–ø–µ—à–Ω–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ Weights & Biases —á–µ—Ä–µ–∑ `poetry run wandb login`.
4.  [ ] –§–∞–π–ª—ã `train.csv` –∏ `test.csv` –∏–∑ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è "–¢–∏—Ç–∞–Ω–∏–∫" —Å–∫–∞—á–∞–Ω—ã –∏ –ª–µ–∂–∞—Ç –≤ –ø–∞–ø–∫–µ `data/01_raw/`.

–ï—Å–ª–∏ –≤—Å–µ –≥–æ—Ç–æ–≤–æ ‚Äî –ø—Ä–∏—Å—Ç—É–ø–∞–µ–º! –ú—ã –Ω–∞—á–Ω–µ–º —Å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ, –±–∞–∑–æ–≤–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞.

---

## **–ë–ª–æ–∫ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –ë–∞–∑–æ–≤—ã–π –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç (–ù–∞—à Baseline)**

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–µ–π—à–∏–π, –Ω–æ –ø–æ–ª–Ω—ã–π –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π –ø–∞–π–ø–ª–∞–π–Ω. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (baseline), –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –±—É–¥–µ–º –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —É–ª—É—á—à–µ–Ω–∏—è—Ö.

### –®–∞–≥ 1.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ì–ª–æ–±–∞–ª—å–Ω—ã—Ö –ö–æ–Ω—Ñ–∏–≥–æ–≤

–°–Ω–∞—á–∞–ª–∞ —Å–æ–æ–±—â–∏–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É, —Å –∫–∞–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –∏ –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

**1. –£–∫–∞–∂–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏:**
–û—Ç–∫—Ä–æ–π—Ç–µ `conf/config.yaml` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ü–∏—é `globals`, —É–∫–∞–∑–∞–≤ ID –∏ —Ç–∞—Ä–≥–µ—Ç –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ "–¢–∏—Ç–∞–Ω–∏–∫".

**`conf/config.yaml`:**
```yaml
globals:
  seed: 42
  id_col: "PassengerId"  # üëà –£–∫–∞–∑—ã–≤–∞–µ–º ID –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  target_col: "Survived" # üëà –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –º—ã –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º
```

**2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Weights & Biases:**
–û—Ç–∫—Ä–æ–π—Ç–µ `conf/wandb/default.yaml` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à `username` (–∏–ª–∏ `entity` –¥–ª—è –∫–æ–º–∞–Ω–¥—ã) –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.

**`conf/wandb/default.yaml`:**
```yaml
entity: "your-wandb-username" # üëà –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® USERNAME –í W&B
project: "kaggle-titanic-tutorial" # üëà –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
tags: ["baseline"]
```

### –®–∞–≥ 1.2: –°–æ–∑–¥–∞–Ω–∏–µ –ü–µ—Ä–≤–æ–≥–æ –ö–æ–Ω–≤–µ–π–µ—Ä–∞ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –Ω–∞—à –ø–µ—Ä–≤—ã–π "—Ä–µ—Ü–µ–ø—Ç" –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –û–Ω –±—É–¥–µ—Ç –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–º, —á—Ç–æ–±—ã —Å–ª—É–∂–∏—Ç—å —Ö–æ—Ä–æ—à–µ–π –æ—Ç–ø—Ä–∞–≤–Ω–æ–π —Ç–æ—á–∫–æ–π.

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `conf/feature_engineering/titanic_v1.yaml` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥.

**`conf/feature_engineering/titanic_v1.yaml`:**
```yaml
# –ò–º—è –Ω–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
# –û–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.
name: "titanic_v1"

pipeline:
  # –®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º —Ñ–ª–∞–≥ –¥–ª—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ 'Age'.
  - _target_: src.features.numerical.flags.IsNullIndicator
    name: "flag_missing_age"
    cols: ["Age"]

  # –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ–ø—É—Å–∫–∏ –≤ 'Age' –º–µ–¥–∏–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.
  # (–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –ª–∏–±–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–∞ —ç—Ç–∞–ø–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏)
  # –ü–æ–∫–∞ —á—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏–º —ç—Ç–æ—Ç —à–∞–≥, –º–æ–¥–µ–ª–∏ –±—É—Å—Ç–∏–Ω–≥–∞ —Å–ø—Ä–∞–≤—è—Ç—Å—è —Å NaN.
  
  # –®–∞–≥ 3: –ö–æ–¥–∏—Ä—É–µ–º –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ 'Sex'.
  - _target_: src.features.categorical.ordinal.OrdinalEncoderGenerator
    name: "encode_sex"
    cols: ["Sex"]
    # –£–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Ä—è–¥–æ–∫ —è–≤–Ω–æ
    mapping:
      Sex:
        "male": 0
        "female": 1
        
  # –®–∞–≥ 4: –ö–æ–¥–∏—Ä—É–µ–º –ø—Ä–∏–∑–Ω–∞–∫ 'Embarked' —Å –ø–æ–º–æ—â—å—é One-Hot Encoding.
  - _target_: src.features.categorical.nominal.OneHotEncoderGenerator
    name: "ohe_embarked"
    cols: ["Embarked"]
```

### –®–∞–≥ 1.3: –°–æ–∑–¥–∞–Ω–∏–µ –°–ø–∏—Å–∫–∞ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –∫–æ–ª–æ–Ω–∫–∏ (–≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–µ, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –Ω–∞—à–µ–π –º–æ–¥–µ–ª–∏.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `conf/features/titanic_v1.yaml`.

**`conf/features/titanic_v1.yaml`:**
```yaml
# –ò–º—è —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
name: "titanic_v1"

# –°–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –º–æ–¥–µ–ª—å.
cols:
  # –ò—Å—Ö–æ–¥–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
  - "Pclass"
  - "Age"
  - "SibSp"
  - "Parch"
  - "Fare"
  # –ù–æ–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫-—Ñ–ª–∞–≥
  - "Age_is_null"
  # –ù–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø–æ—Å–ª–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
  - "Sex_ordinal"
  - "Embarked_ohe_S"
  - "Embarked_ohe_C"
  - "Embarked_ohe_Q"
  - "Embarked_ohe_other" # –ù–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –≤ —Ç–µ—Å—Ç–µ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```

### –®–∞–≥ 1.4: –°–±–æ—Ä–∫–∞ –ü–µ—Ä–≤–æ–≥–æ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞

–ú—ã –≥–æ—Ç–æ–≤—ã "—Å–æ–±—Ä–∞—Ç—å" –Ω–∞—à –ø–µ—Ä–≤—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `conf/experiment/exp001_titanic_lgbm.yaml`.

**`conf/experiment/exp001_titanic_lgbm.yaml`:**
```yaml
# –≠—Ç–æ—Ç —Ñ–∞–π–ª - –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –Ω–∞—à–µ–≥–æ baseline-—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞.

defaults:
  - override /feature_engineering: titanic_v1  # üëà –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à –ø–µ—Ä–≤—ã–π "—Ä–µ—Ü–µ–ø—Ç" –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
  - override /features: titanic_v1           # üëà –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à –ø–µ—Ä–≤—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
  - override /model: lgbm                    # –ò—Å–ø–æ–ª—å–∑—É–µ–º LightGBM —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  - override /metric: accuracy               # –î–ª—è "–¢–∏—Ç–∞–Ω–∏–∫–∞" –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ - Accuracy
  - _self_

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ W&B
wandb:
  tags: ["baseline", "lgbm", "exp001"]
```

### –®–∞–≥ 1.5: –ó–∞–ø—É—Å–∫ –∏ –ê–Ω–∞–ª–∏–∑ –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!

**1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:**
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–æ–∑—å–º–µ—Ç –∫–æ–Ω—Ñ–∏–≥ –∏–∑ `exp001...`, –Ω–∞–π–¥–µ—Ç —Ç–∞–º —Å—Å—ã–ª–∫—É –Ω–∞ `feature_engineering: titanic_v1`, –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ —à–∞–≥–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç `titanic_v1` –≤ W&B.
```bash
make features E=exp001_titanic_lgbm
```

**2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:**
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥ `exp001...`, —Å–∫–∞—á–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç `titanic_v1` –∏–∑ W&B, –≤–æ–∑—å–º–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ `titanic_v1` –∏ –æ–±—É—á–∏—Ç –Ω–∞ –Ω–∏—Ö –º–æ–¥–µ–ª—å `lgbm`.
```bash
make train E=exp001_titanic_lgbm
```

**3. –ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
*   **–í –∫–æ–Ω—Å–æ–ª–∏** –≤—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥ –æ–±—É—á–µ–Ω–∏—è –∏ –∏—Ç–æ–≥–æ–≤—ã–π —Å—Ä–µ–¥–Ω–∏–π CV-—Å–∫–æ—Ä. –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ä–∞–π–æ–Ω–µ **0.81 - 0.82**. –≠—Ç–æ –Ω–∞—à baseline!
*   **–í Weights & Biases** –∑–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç `kaggle-titanic-tutorial`. –í—ã —É–≤–∏–¥–∏—Ç–µ –¥–≤–∞ –Ω–æ–≤—ã—Ö –∑–∞–ø—É—Å–∫–∞: –æ–¥–∏–Ω –¥–ª—è `make-features` –∏ –æ–¥–∏–Ω –¥–ª—è `train`. –ò–∑—É—á–∏—Ç–µ –∑–∞–ø—É—Å–∫ `train`:
    *   **Charts:** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∏ –º–µ—Ç—Ä–∏–∫ –ø–æ —Ñ–æ–ª–¥–∞–º.
    *   **Overview:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (`learning_rate`, `n_estimators` –∏ —Ç.–¥.) –±—ã–ª–∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω—ã.
    *   **Artifacts:** –ù–∞–π–¥–∏—Ç–µ –≤—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç. –í –Ω–µ–º –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –≤–∞—à–∏ –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (`.pkl`), OOF-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏ –≥–æ—Ç–æ–≤—ã–π `submission.csv`. –í—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å —ç—Ç–æ—Ç —Å–∞–±–º–∏—à–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –Ω–∞ Kaggle!

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!** –í—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–æ—à–ª–∏ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–æ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–∞–±–º–∏—à–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π –ø–∞–π–ø–ª–∞–π–Ω. –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞, –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –±–ª–æ–∫–∞—Ö –º—ã –±—É–¥–µ–º –µ–µ —É–ª—É—á—à–∞—Ç—å.

---

## **–ë–ª–æ–∫ 2: –ò—Ç–µ—Ä–∞—Ü–∏—è –∏ –£–ª—É—á—à–µ–Ω–∏–µ ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ü—Ä–∏–∑–Ω–∞–∫–∏**

**–¶–µ–ª—å:** –ü–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ, –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤ –Ω–∞—à –∫–æ–Ω–≤–µ–π–µ—Ä –∏ –∫–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏. –ú—ã —Å–æ–∑–¥–∞–¥–∏–º –≤—Ç–æ—Ä—É—é –≤–µ—Ä—Å–∏—é (`v2`) –Ω–∞—à–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

### –®–∞–≥ 2.1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ö–æ–Ω–≤–µ–π–µ—Ä–∞

–•–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω–≤–µ–π–µ—Ä, –∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.

**1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª:**
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `conf/feature_engineering/titanic_v1.yaml` –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `conf/feature_engineering/titanic_v2.yaml`.

**2. –ò–∑–º–µ–Ω–∏—Ç–µ –∏–º—è:**
   –í –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ `titanic_v2.yaml` —Å—Ä–∞–∑—É –∂–µ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è, —á—Ç–æ–±—ã –Ω–∞—à–∏ –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç.
   ```yaml
   name: "titanic_v2"
   ```

### –®–∞–≥ 2.2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ü—Ä–∏–∑–Ω–∞–∫–æ–≤

–¢–µ–ø–µ—Ä—å –≤ `titanic_v2.yaml` –º—ã –¥–æ–±–∞–≤–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤, —á—Ç–æ–±—ã –∏–∑–≤–ª–µ—á—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö.

*   **–ò–∑–≤–ª–µ—á–µ–º —Ç–∏—Ç—É–ª (`Mr`, `Mrs`, `Miss`) –∏–∑ –∏–º–µ–Ω–∏.** –≠—Ç–æ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫.
*   **–°–æ–∑–¥–∞–¥–∏–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤,** –Ω–∞–ø—Ä–∏–º–µ—Ä, `Age * Pclass`.
*   **–°–æ–∑–¥–∞–¥–∏–º –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏,** –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –≤ –∫–∞–∂–¥–æ–º –∫–ª–∞—Å—Å–µ.

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –≤ –∫–æ–Ω–µ—Ü —Å–µ–∫—Ü–∏–∏ `pipeline` –≤ –≤–∞—à–µ–º **`conf/feature_engineering/titanic_v2.yaml`**.

```yaml
# conf/feature_engineering/titanic_v2.yaml

name: "titanic_v2"

pipeline:
  # ... (–≤—Å–µ —à–∞–≥–∏ –∏–∑ v1 –æ—Å—Ç–∞—é—Ç—Å—è –∑–¥–µ—Å—å) ...
  - _target_: src.features.numerical.flags.IsNullIndicator
    # ...
  - _target_: src.features.categorical.ordinal.OrdinalEncoderGenerator
    # ...
  - _target_: src.features.categorical.nominal.OneHotEncoderGenerator
    # ...

  # --- –ù–û–í–´–ï –®–ê–ì–ò ---

  # –®–∞–≥ 5: –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–∏—Ç—É–ª –∏–∑ –∏–º–µ–Ω–∏.
  # –ú—ã —Å–æ–∑–¥–∞–¥–∏–º –∫–∞—Å—Ç–æ–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —ç—Ç–æ–π —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π –∑–∞–¥–∞—á–∏.
  - _target_: src.features.custom.titanic_title.TitleFeatureGenerator
    name: "extract_title"
    col: "Name"
    
  # –®–∞–≥ 6: –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–¥–∫–∏–µ —Ç–∏—Ç—É–ª—ã.
  - _target_: src.features.categorical.combination.RareCategoryCombiner
    name: "combine_rare_titles"
    cols: ["Title"] # –†–∞–±–æ—Ç–∞–µ–º —Å –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–æ–π
    min_count: 10
    
  # –®–∞–≥ 7: –ö–æ–¥–∏—Ä—É–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–µ —Ç–∏—Ç—É–ª—ã.
  - _target_: src.features.categorical.nominal.OneHotEncoderGenerator
    name: "ohe_title"
    cols: ["Title"]
    
  # –®–∞–≥ 8: –°–æ–∑–¥–∞–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
  - _target_: src.features.interaction.NumericalInteractionGenerator
    name: "numerical_interactions"
    cols: ["Age", "Pclass", "Fare"]
    operations: ["multiply", "divide"]
    
  # –®–∞–≥ 9: –°–æ–∑–¥–∞–µ–º –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏.
  - _target_: src.features.aggregation.AggregationGenerator
    name: "fare_stats_by_pclass"
    group_keys: ["Pclass"]
    group_values: ["Fare"]
    agg_funcs: ["mean", "std"]
```
*(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–ª—è –®–∞–≥–∞ 5 –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞!)*

### –®–∞–≥ 2.3: –°–æ–∑–¥–∞–Ω–∏–µ –ö–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ `TitleFeatureGenerator`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `src/features/custom/titanic_title.py`.

**`src/features/custom/titanic_title.py`:**
```python
import pandas as pd
from ..base import FeatureGenerator

class TitleFeatureGenerator(FeatureGenerator):
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–∏—Ç—É–ª (Mr, Mrs, etc.) –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ 'Name'."""
    def __init__(self, name: str, col: str):
        super().__init__(name)
        self.col = col

    def fit(self, data: pd.DataFrame) -> None:
        pass

    def transform(self, data: pd.DataFrame) -> pd.DataFrame:
        df = data.copy()
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∏—Ç—É–ª–∞
        df['Title'] = df[self.col].str.extract(' ([A-Za-z]+)\.', expand=False)
        return df
```
*(–ù–∞—à —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ "–ø–æ–¥—Ö–≤–∞—Ç–∏—Ç" —ç—Ç–æ—Ç –Ω–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±–ª–∞–≥–æ–¥–∞—Ä—è `__init__.py` –≤ `src/features/`)*

### –®–∞–≥ 2.4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π `features` –∏ `experiment`

**1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ `conf/features/titanic_v2.yaml`:**
   –í —ç—Ç–æ—Ç —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–∑ `titanic_v1.yaml` **–ø–ª—é—Å –≤—Å–µ –Ω–æ–≤—ã–µ**, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏. –ò—Ö –±—É–¥–µ—Ç –º–Ω–æ–≥–æ! –≠—Ç–æ —Ä—É—Ç–∏–Ω–Ω—ã–π, –Ω–æ –≤–∞–∂–Ω—ã–π —à–∞–≥.

**2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ `conf/experiment/exp002_titanic_lgbm_v2.yaml`:**
   ```yaml
   # conf/experiment/exp002_titanic_lgbm_v2.yaml
   defaults:
     - override /feature_engineering: titanic_v2
     - override /features: titanic_v2
     - override /model: lgbm
     - override /metric: accuracy
     - _self_

   wandb:
     tags: ["features_v2", "lgbm", "exp002"]
   ```

### –®–∞–≥ 2.5: –ó–∞–ø—É—Å–∫ –∏ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏–º –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –Ω–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞.

**1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ –æ–±—É—á–µ–Ω–∏–µ:**
   ```bash
   make features E=exp002_titanic_lgbm_v2
   make train E=exp002_titanic_lgbm_v2
   ```

**2. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ W&B:**
*   **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –° –Ω–æ–≤—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ —Å `Title`) –≤–∞—à CV-—Å–∫–æ—Ä –¥–æ–ª–∂–µ–Ω **–∑–∞–º–µ—Ç–Ω–æ –≤—ã—Ä–∞—Å—Ç–∏**, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–æ **0.83-0.84**.
*   **–ö–∞–∫ —Å—Ä–∞–≤–Ω–∏—Ç—å:**
    1.  –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ W&B.
    2.  –í—ã —É–≤–∏–¥–∏—Ç–µ –¥–≤–∞ `train` –∑–∞–ø—É—Å–∫–∞: `exp001...` –∏ `exp002...`.
    3.  –í—ã–¥–µ–ª–∏—Ç–µ –≥–∞–ª–æ—á–∫–∞–º–∏ –æ–±–∞ –∑–∞–ø—É—Å–∫–∞.
    4.  –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **"Compare"**.
    5.  W&B –ø–æ—Å—Ç—Ä–æ–∏—Ç —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∏. –í—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞–≥–ª—è–¥–Ω–æ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –∏–∑–º–µ–Ω–∏–ª—Å—è `oof_score_mean` (–∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç—Ä–∏–∫–∏), –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞—à–∏ –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏–ª–∏ –º–æ–¥–µ–ª—å.

**–í—ã–≤–æ–¥—ã:**
–ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –º—ã —É–≤–∏–¥–µ–ª–∏, –∫–∞–∫ –ª–µ–≥–∫–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ –º–æ–∂–Ω–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏, –∏ –∫–∞–∫ W&B –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö. –ú—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏, —á—Ç–æ –Ω–∞—à —Ñ–∏—á–µ-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç! –í —Å–ª–µ–¥—É—é—â–µ–º –±–ª–æ–∫–µ –º—ã –Ω–∞—É—á–∏–º—Å—è –±–æ—Ä–æ—Ç—å—Å—è —Å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å—é –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

---

–û—Ç–ª–∏—á–Ω–æ! –ú—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–∏–ª–∏ –º–Ω–æ–≥–æ –Ω–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ —É–≤–∏–¥–µ–ª–∏ –ø—Ä–∏—Ä–æ—Å—Ç –∫–∞—á–µ—Å—Ç–≤–∞. –ù–æ –≤–º–µ—Å—Ç–µ —Å —ç—Ç–∏–º –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –∏ "—à—É–º" ‚Äî –ø—Ä–∏–∑–Ω–∞–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º–∏ –∏–ª–∏ –¥–∞–∂–µ –≤—Ä–µ–¥–Ω—ã–º–∏. –ù–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –Ω–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫.

---

## **–ë–ª–æ–∫ 3: –ë–æ—Ä—å–±–∞ —Å –ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å—é ‚Äî –û—Ç–±–æ—Ä –ü—Ä–∏–∑–Ω–∞–∫–æ–≤**

**–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–∑ –Ω–∞—à–µ–≥–æ –±–æ–ª—å—à–æ–≥–æ –Ω–∞–±–æ—Ä–∞ `v2`, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –º–æ–¥–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ, —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –µ—â–µ —Ç–æ—á–Ω–µ–µ. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à —Å–∫—Ä–∏–ø—Ç `select_features.py`.

### –®–∞–≥ 3.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ó–∞–ø—É—Å–∫ –û—Ç–±–æ—Ä–∞

–ù–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞. –ú—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤–µ–º —Å–∫—Ä–∏–ø—Ç `select_features.py`, —É–∫–∞–∑–∞–≤ –µ–º—É, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞–∫–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ (`exp002...`) –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑, –∏ —Å–∫–æ–ª—å–∫–æ –ª—É—á—à–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –º—ã —Ö–æ—Ç–∏–º –æ—Å—Ç–∞–≤–∏—Ç—å.

**1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ—Ç–±–æ—Ä–∞:**
   –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ–±—É—á–∏—Ç –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å LightGBM –Ω–∞ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ **–≤—Å–µ—Ö** –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö –∏–∑ –Ω–∞–±–æ—Ä–∞ `v2`, —Å–æ–±–µ—Ä–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å (`feature importance`) –ø–æ –≤—Å–µ–º —Ñ–æ–ª–¥–∞–º –∏ –æ—Ç–±–µ—Ä–µ—Ç **—Ç–æ–ø-20** —Å–∞–º—ã—Ö –≤–ª–∏—è—Ç–µ–ª—å–Ω—ã—Ö.
   ```bash
   make select E=exp002_titanic_lgbm_v2 selection.top_n=20
   ```
   *(–ú—ã –≤—ã–±–∏—Ä–∞–µ–º –Ω–µ–±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ, 20, –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –≤ —ç—Ç–æ–º —Ç—É—Ç–æ—Ä–∏–∞–ª–µ. –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –≤—ã –±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π: 100, 200, 400 –∏ —Ç.–¥.)*

**2. –ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
*   **–í –∫–æ–Ω—Å–æ–ª–∏** –≤—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Ç–æ–ø-10 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –í—ã, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å `Title` –∏ `Sex`, –±—É–¥—É—Ç –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ.
*   **–ù–∞–π–¥–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `data/06_feature_lists/`. –í—ã –Ω–∞–π–¥–µ—Ç–µ —Ç–∞–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `titanic_v2_top_20.txt`. –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏–∑ 20 –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫. –≠—Ç–æ –∏ –µ—Å—Ç—å –Ω–∞—à "–∑–æ–ª–æ—Ç–æ–π" –Ω–∞–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

### –®–∞–≥ 3.2: –°–æ–∑–¥–∞–Ω–∏–µ "–£—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ" –ö–æ–Ω—Ñ–∏–≥–∞ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `features`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ—Ç–æ–±—Ä–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `conf/features/titanic_v2_top20.yaml`.

**`conf/features/titanic_v2_top20.yaml`:**
```yaml
# –ò–º—è –Ω–æ–≤–æ–≥–æ, —É—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
name: "titanic_v2_top20"

# ‚ùóÔ∏è –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—é–¥–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ data/06_feature_lists/titanic_v2_top_20.txt
cols:
  - "Sex_ordinal"
  - "Title_ohe_Mr"
  - "Pclass"
  - "Fare"
  - "Age"
  - "Pclass_mul_Age"
  - "SibSp"
  - "Parch"
  - "Fare_div_by_Pclass_mean"
  - "Title_ohe_Miss"
  - "Title_ohe_Mrs"
  - "Age_is_null"
  - "Fare_std_by_Pclass"
  - "Embarked_ohe_S"
  - "Title_ohe_Master"
  - "Age_mul_Fare"
  - "Embarked_ohe_C"
  - "Fare_mean_by_Pclass"
  - "Pclass_div_Age"
  - "Title_ohe_Other"
```
*(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤–∞—à —Å–ø–∏—Å–æ–∫ –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ—Ç, —á—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è —É –≤–∞—Å.)*

### –®–∞–≥ 3.3: –°–æ–∑–¥–∞–Ω–∏–µ –ù–æ–≤–æ–≥–æ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ –∏ –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ–¥–µ–º –Ω–æ–≤—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ **–º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (`titanic_v2`), –Ω–æ **–¥—Ä—É–≥–æ–π, —É—Ä–µ–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫** –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `conf/experiment/exp003_titanic_lgbm_top20.yaml`.

**`conf/experiment/exp003_titanic_lgbm_top20.yaml`:**
```yaml
# –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ —Ç–æ–ø-20 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
defaults:
  - override /feature_engineering: titanic_v2   # üëà –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞ –∂–µ
  - override /features: titanic_v2_top20      # üëà –ê —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ - –Ω–æ–≤—ã–π, —É—Ä–µ–∑–∞–Ω–Ω—ã–π
  - override /model: lgbm
  - override /metric: accuracy
  - _self_

wandb:
  tags: ["feature_selection", "top20", "lgbm", "exp003"]
```

### –®–∞–≥ 3.4: –ó–∞–ø—É—Å–∫ –∏ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

–ù–∞–º **–Ω–µ –Ω—É–∂–Ω–æ –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å–∫–∞—Ç—å `make features`**, —Ç–∞–∫ –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç `titanic_v2` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ W&B. –ú—ã —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞–µ–º –æ–±—É—á–µ–Ω–∏–µ.

**1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:**
   ```bash
   make train E=exp003_titanic_lgbm_top20
   ```

**2. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ W&B:**
*   **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ CV-—Å–∫–æ—Ä **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è** (–≤–æ–∑–º–æ–∂–Ω–æ, –¥–∞–∂–µ –Ω–µ–º–Ω–æ–≥–æ –≤—ã—Ä–æ—Å!). –ü—Ä–∏ —ç—Ç–æ–º –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –∑–∞–º–µ—Ç–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏–ª–æ—Å—å.
*   **–ö–∞–∫ —Å—Ä–∞–≤–Ω–∏—Ç—å:**
    1.  –ó–∞–π–¥–∏—Ç–µ –≤ W&B –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ –∑–∞–ø—É—Å–∫–∏ `exp002...` (–Ω–∞ –≤—Å–µ—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö) –∏ `exp003...` (–Ω–∞ —Ç–æ–ø-20).
    2.  –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ `oof_score_mean` ‚Äî –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—á–µ–Ω—å –±–ª–∏–∑–æ–∫.
    3.  –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ `duration` (–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è) ‚Äî –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ –¥–ª—è `exp003`.

**–í—ã–≤–æ–¥—ã:**
–ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ ML: **"–º–µ–Ω—å—à–µ ‚Äî –∑–Ω–∞—á–∏—Ç –ª—É—á—à–µ"**. –ú—ã –∏–∑–±–∞–≤–∏–ª–∏—Å—å –æ—Ç –¥–µ—Å—è—Ç–∫–æ–≤ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ "—à—É–º–Ω—ã—Ö" –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –Ω–µ –ø–æ—Ç–µ—Ä—è–≤ (–∞ –º–æ–∂–µ—Ç, –∏ —É–ª—É—á—à–∏–≤) –∫–∞—á–µ—Å—Ç–≤–æ, –∏ —Å–¥–µ–ª–∞–ª–∏ –Ω–∞—à—É –º–æ–¥–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ.

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –º—ã –≥–æ—Ç–æ–≤—ã –∫ "—Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ" —Å–∞–º–æ–π –º–æ–¥–µ–ª–∏.
---
–û—Ç–ª–∏—á–Ω–æ! –ú—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, —Ç–µ–ø–µ—Ä—å –ø–æ—Ä–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à—É –º–æ–¥–µ–ª—å. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tune.py` –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `Optuna`, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π—Ç–∏ –ª—É—á—à–∏–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è LightGBM –Ω–∞ –Ω–∞—à–µ–º –æ—Ç–æ–±—Ä–∞–Ω–Ω–æ–º –Ω–∞–±–æ—Ä–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

---

## **–ë–ª–æ–∫ 4: –í—ã–∂–∏–º–∞–µ–º –ú–∞–∫—Å–∏–º—É–º ‚Äî –ü–æ–¥–±–æ—Ä –ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**

**–¶–µ–ª—å:** "–û—Ç—Ç—é–Ω–∏–Ω–≥–æ–≤–∞—Ç—å" –Ω–∞—à—É –º–æ–¥–µ–ª—å LightGBM, —á—Ç–æ–±—ã –æ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ –Ω–∞–∏–ª—É—á—à–µ–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –Ω–∞—à–µ–º "–∑–æ–ª–æ—Ç–æ–º" –Ω–∞–±–æ—Ä–µ –∏–∑ 20 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

### –®–∞–≥ 4.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ü–æ–∏—Å–∫–∞

`Optuna` –±—É–¥–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ç—É, –∫–æ—Ç–æ—Ä–∞—è –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç –Ω–∞—à OOF-—Å–∫–æ—Ä. –ù–∞–º –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å "–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞" ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö `Optuna` –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –ª—É—á—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `conf/tuning/titanic_lgbm.yaml`.

**`conf/tuning/titanic_lgbm.yaml`:**
```yaml
# –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: –º—ã —Ö–æ—Ç–∏–º –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Accuracy.
direction: "maximize"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π (–ø—Ä–æ–±), –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞–µ—Ç Optuna.
# –î–ª—è —Ç—É—Ç–æ—Ä–∏–∞–ª–∞ –ø–æ—Å—Ç–∞–≤–∏–º 50, –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 100-300.
n_trials: 50

# –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞. –ö–ª—é—á - —ç—Ç–æ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—É –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
search_space:
  model.params.learning_rate:
    type: "float"
    low: 0.01
    high: 0.1
    log: true

  model.params.n_estimators:
    type: "int"
    low: 500
    high: 2000
    step: 100

  model.params.max_depth:
    type: "int"
    low: 3
    high: 8

  model.params.num_leaves:
    type: "int"
    low: 8
    high: 64

  model.params.reg_alpha: # L1 regularization
    type: "float"
    low: 1e-3
    high: 10.0
    log: true

  model.params.reg_lambda: # L2 regularization
    type: "float"
    low: 1e-3
    high: 10.0
    log: true
  
  model.params.colsample_bytree:
    type: "float"
    low: 0.6
    high: 1.0

  model.params.subsample:
    type: "float"
    low: 0.6
    high: 1.0
```

### –®–∞–≥ 4.2: –ó–∞–ø—É—Å–∫ –ü–æ–¥–±–æ—Ä–∞ –ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏–º `tune.py`. –ú—ã –¥–æ–ª–∂–Ω—ã —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –µ–º—É, **–∫–∞–∫—É—é –º–æ–¥–µ–ª—å** –º—ã —Ç—é–Ω–∏–º (`lgbm`), –Ω–∞ **–∫–∞–∫–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö** (`titanic_v2_top20`) –∏ —Å **–∫–∞–∫–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º —Ç—é–Ω–∏–Ω–≥–∞** (`titanic_lgbm`).

```bash
make tune T=titanic_lgbm experiment.model=lgbm experiment.features=titanic_v2_top20
```
*(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –º—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º `model` –∏ `features` —á–µ—Ä–µ–∑ `experiment` –≥—Ä—É–ø–ø—É, —á—Ç–æ–±—ã `tune.py` —Å–æ–±—Ä–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `train.py` –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏)*

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
*   `Optuna` –∑–∞–ø—É—Å—Ç–∏—Ç `50` –∏—Ç–µ—Ä–∞—Ü–∏–π (`trials`).
*   –ù–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–Ω–∞ –≤—ã–±–µ—Ä–µ—Ç –Ω–æ–≤—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ `search_space`.
*   –ó–∞–ø—É—Å—Ç–∏—Ç –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω `train.py` —Å —ç—Ç–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –Ω–∞ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏.
*   –ü–æ–ª—É—á–∏—Ç –∏—Ç–æ–≥–æ–≤—ã–π `oof_score` –∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è "—É–º–Ω–æ–≥–æ" –≤—ã–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.

### –®–∞–≥ 4.3: –ê–Ω–∞–ª–∏–∑ –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –°–æ–∑–¥–∞–Ω–∏–µ "–¢—é–Ω–∏–Ω–≥–æ–≤–∞–Ω–Ω–æ–π" –ú–æ–¥–µ–ª–∏

**1. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –≤ W&B:**
   –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å "Sweeps", –≥–¥–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ç—é–Ω–∏–Ω–≥–∞. W&B –ø–æ–∫–∞–∂–µ—Ç –≤–∞–º –∫—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä "Parameter Importance" (–∫–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä) –∏ "Parallel Coordinates" (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–µ–ª–∏ –∫ –ª—É—á—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º).

**2. –ü–æ–ª—É—á–∏—Ç–µ –ª—É—á—à–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞, –æ–Ω –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –ª—É—á—à–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   ```
   –õ—É—á—à–∏–π trial:
     Value (OOF Score): 0.8451
     Params: 
       learning_rate: 0.025
       n_estimators: 800
       max_depth: 5
       ...
   ```

**3. –°–æ–∑–¥–∞–π—Ç–µ "—Ç—é–Ω–∏–Ω–≥–æ–≤–∞–Ω–Ω—ã–π" –∫–æ–Ω—Ñ–∏–≥ –º–æ–¥–µ–ª–∏:**
   –¢–µ–ø–µ—Ä—å –º—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º —ç—Ç–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ `conf/model/lgbm_titanic_tuned.yaml`.

   **`conf/model/lgbm_titanic_tuned.yaml`:**
   ```yaml
   # –ú–æ–¥–µ–ª—å LGBM —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ Optuna
   _target_: src.models.lgbm.LGBMModel

   # ‚ùóÔ∏è –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—é–¥–∞ –ª—É—á—à–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –Ω–∞ —à–∞–≥–µ 2
   params:
     objective: "binary"
     metric: "accuracy" # –í–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ –º–µ—Ç—Ä–∏–∫—É, —á—Ç–æ –∏ –ø—Ä–∏ —Ç—é–Ω–∏–Ω–≥–µ
     n_jobs: -1
     seed: ${globals.seed}

     learning_rate: 0.025
     n_estimators: 800
     max_depth: 5
     num_leaves: 20
     reg_alpha: 0.5
     reg_lambda: 0.1
     colsample_bytree: 0.8
     subsample: 0.8
   ```

### –®–∞–≥ 4.4: (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –§–∏–Ω–∞–ª—å–Ω–æ–µ –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å "—á–µ–º–ø–∏–æ–Ω—Å–∫–∞—è" –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–º —Å –Ω–µ–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π, "—á–∏—Å—Ç—ã–π" —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –µ–µ OOF-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Å—Ç–µ–∫–∏–Ω–≥–∞.

**1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞:**

   **`conf/experiment/exp004_titanic_lgbm_tuned.yaml`:**
   ```yaml
   defaults:
     - override /feature_engineering: titanic_v2
     - override /features: titanic_v2_top20
     - override /model: lgbm_titanic_tuned # üëà –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—à—É –Ω–æ–≤—É—é —Ç—é–Ω–∏–Ω–≥–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å
     - override /metric: accuracy
     - _self_

   wandb:
     tags: ["tuned", "lgbm", "exp004"]
   ```

**2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ:**
   ```bash
   make train E=exp004_titanic_lgbm_tuned
   ```

**–í—ã–≤–æ–¥—ã:**
–ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Ç—Ä—É–¥–æ–µ–º–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ ML. –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `Optuna` –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã –ø–æ–ª—É—á–∏–ª–∏ "—Ç—é–Ω–∏–Ω–≥–æ–≤–∞–Ω–Ω—É—é" –º–æ–¥–µ–ª—å –∏ –µ–µ "—á–∏—Å—Ç—ã–µ" OOF-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≥–æ—Ç–æ–≤—ã –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —à–∞–≥—É ‚Äî –∞–Ω—Å–∞–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## **–ë–ª–æ–∫ 5: –°–∏–ª–∞ –≤ –ï–¥–∏–Ω—Å—Ç–≤–µ ‚Äî –ê–Ω—Å–∞–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –°—Ç–µ–∫–∏–Ω–≥**

–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –æ–¥–Ω–æ–π —Ç—é–Ω–∏–Ω–≥–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é LightGBM (CV ~0.84), –Ω–æ –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö —Ä–µ–¥–∫–æ –ø–æ–±–µ–∂–¥–∞—é—Ç –æ–¥–∏–Ω–æ—á–Ω—ã–µ –º–æ–¥–µ–ª–∏. –ù–∞—Å—Ç–æ—è—â–∞—è —Å–∏–ª–∞ ‚Äî –≤ **–∞–Ω—Å–∞–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏**, –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ "–º–Ω–µ–Ω–∏–π" –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π. –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –æ—à–∏–±–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –∏ –∏—Ö –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≥–ª–∞–¥–∏—Ç—å —ç—Ç–∏ –æ—à–∏–±–∫–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏ —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å—Ç–µ–∫–∏–Ω–≥**: –æ–±—É—á–∏–º –ø—Ä–æ—Å—Ç—É—é "–º–µ—Ç–∞-–º–æ–¥–µ–ª—å" (–õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫—É—é –†–µ–≥—Ä–µ—Å—Å–∏—é), –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—É—á–∏—Ç—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –≤–∑–≤–µ—à–∏–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –æ—Ç –Ω–∞—à–∏—Ö –ª—É—á—à–∏—Ö –±–∞–∑–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π.

### –®–∞–≥ 5.1: –û–±—É—á–µ–Ω–∏–µ –ë–∞–∑–æ–≤—ã—Ö –ú–æ–¥–µ–ª–µ–π ("–≠–∫—Å–ø–µ—Ä—Ç–æ–≤")

–ù–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º 2-3 —Å–∏–ª—å–Ω—ã–µ, –Ω–æ **—Ä–∞–∑–Ω—ã–µ** –º–æ–¥–µ–ª–∏.
1.  **LightGBM (–¢—é–Ω–∏–Ω–≥–æ–≤–∞–Ω–Ω—ã–π):** –£ –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å –æ—Ç `exp004`.
2.  **XGBoost:** –î–æ–±–∞–≤–∏–º –µ–≥–æ –∫–∞–∫ –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–≥–æ –±—É—Å—Ç–∏–Ω–≥–∞.
3.  **Random Forest:** –î–æ–±–∞–≤–∏–º –µ–≥–æ –∫–∞–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–æ–≥–æ —Å–µ–º–µ–π—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π (–±—ç–≥–≥–∏–Ω–≥), —á—Ç–æ–±—ã –≤–Ω–µ—Å—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ.

**1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π:**

   **`conf/model/xgb_titanic.yaml`:**
   ```yaml
   _target_: src.models.xgb.XGBModel
   params:
     objective: "binary:logistic"
     eval_metric: "auc" # –î–ª—è early stopping, –æ—Å–Ω–æ–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ accuracy
     n_estimators: 1000
     learning_rate: 0.05
     max_depth: 5
     subsample: 0.7
     colsample_bytree: 0.7
     n_jobs: -1
     seed: ${globals.seed}
   ```

   **`conf/model/rf_titanic.yaml`:**
   ```yaml
   _target_: src.models.sklearn_model.SklearnModel
   model_class: "sklearn.ensemble.RandomForestClassifier"
   params:
     n_estimators: 1000
     max_depth: 8
     min_samples_leaf: 5
     n_jobs: -1
     random_state: ${globals.seed}
   ```

**2. –°–æ–∑–¥–∞–π—Ç–µ –¥–ª—è –Ω–∏—Ö –∫–æ–Ω—Ñ–∏–≥–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:**
   –û–±–∞ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à –ª—É—á—à–∏–π –Ω–∞–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ `titanic_v2_top20`.

   **`conf/experiment/exp005_titanic_xgb.yaml`:**
   ```yaml
   defaults:
     - override /feature_engineering: titanic_v2
     - override /features: titanic_v2_top20
     - override /model: xgb_titanic
     - override /metric: accuracy
     - _self_
   wandb:
     tags: ["base_model", "xgb", "exp005"]
   ```

   **`conf/experiment/exp006_titanic_rf.yaml`:**
   ```yaml
   defaults:
     - override /feature_engineering: titanic_v2
     - override /features: titanic_v2_top20
     - override /model: rf_titanic
     - override /metric: accuracy
     - _self_
   wandb:
     tags: ["base_model", "rf", "exp006"]
   ```

**3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
   ```bash
   # –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –Ω–∞—à –ª—É—á—à–∏–π LGBM –æ–±—É—á–µ–Ω
   make train E=exp004_titanic_lgbm_tuned

   # –û–±—É—á–∞–µ–º XGBoost
   make train E=exp005_titanic_xgb

   # –û–±—É—á–∞–µ–º RandomForest
   make train E=exp006_titanic_rf
   ```
   –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è **–≤—Ä—É—á–Ω—É—é** –Ω–∞–π–¥–∏—Ç–µ `oof_predictions.csv` –∏ `submission.csv` –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö —Ç—Ä–µ—Ö –∑–∞–ø—É—Å–∫–æ–≤ –≤ `outputs/` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –≤ `data/` —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏:
   *   `data/05_oof/oof_lgbm_tuned.csv`
   *   `data/05_oof/oof_xgb.csv`
   *   `data/05_oof/oof_rf.csv`
   *   `data/07_submissions/sub_lgbm_tuned_cv.csv`
   *   `data/07_submissions/sub_xgb_cv.csv`
   *   `data/07_submissions/sub_rf_cv.csv`

### –®–∞–≥ 5.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –°—Ç–µ–∫–∏–Ω–≥–∞

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å "–º–Ω–µ–Ω–∏—è" –Ω–∞—à–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (OOF-—Ñ–∞–π–ª—ã), –º—ã –º–æ–∂–µ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å "–º–µ–Ω–µ–¥–∂–µ—Ä–∞" (–º–µ—Ç–∞-–º–æ–¥–µ–ª—å).

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `conf/stacking/titanic_stack.yaml`.

**`conf/stacking/titanic_stack.yaml`:**
```yaml
name: "titanic_lgbm_xgb_rf_v1"

# --- 1. –ù–∞ —á–µ–º –û–ë–£–ß–ê–ï–ú –º–µ—Ç–∞-–º–æ–¥–µ–ª—å (OOF-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è) ---
train_using:
  - name: "lgbm_tuned"
    oof_path: "data/05_oof/oof_lgbm_tuned.csv"
  - name: "xgb"
    oof_path: "data/05_oof/oof_xgb.csv"
  - name: "rf"
    oof_path: "data/05_oof/oof_rf.csv"

# --- 2. –ù–∞ —á–µ–º –ü–†–ï–î–°–ö–ê–ó–´–í–ê–ï–ú ---
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –æ—Ç CV-–º–æ–¥–µ–ª–µ–π –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞
predict_using:
  - name: "lgbm_tuned"
    path: "data/07_submissions/sub_lgbm_tuned_cv.csv"
  - name: "xgb"
    path: "data/07_submissions/sub_xgb_cv.csv"
  - name: "rf"
    path: "data/07_submissions/sub_rf_cv.csv"

# --- 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–µ—Ç–∞-–º–æ–¥–µ–ª–∏ ---
# –ü—Ä–æ—Å—Ç–∞—è, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –†–µ–≥—Ä–µ—Å—Å–∏—è
meta_model:
  _target_: src.models.sklearn_model.SklearnModel
  model_class: "sklearn.linear_model.LogisticRegression"
  params:
    C: 0.1
    max_iter: 1000
    random_state: ${globals.seed}
```

### –®–∞–≥ 5.3: –ó–∞–ø—É—Å–∫ –°—Ç–µ–∫–∏–Ω–≥–∞

–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∞–∫–∫–æ—Ä–¥–∞.

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ `stack.py`:**
```bash
make stack S=titanic_stack
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1.  –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∏—Ç —Ç—Ä–∏ OOF-—Ñ–∞–π–ª–∞ –∏ –æ–±—É—á–∏—Ç –Ω–∞ –Ω–∏—Ö `LogisticRegression`.
2.  –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ CV-—Å–∫–æ—Ä —Å–∞–º–æ–≥–æ —Å—Ç–µ–∫–∏–Ω–≥–∞. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–≤—ã—à–µ**, —á–µ–º —É –ª—é–±–æ–π –∏–∑ –±–∞–∑–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π, –≤–æ–∑–º–æ–∂–Ω–æ, **~0.84-0.85**.
3.  –ó–∞—Ç–µ–º —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∏—Ç —Ç—Ä–∏ —Ñ–∞–π–ª–∞ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏ –Ω–∞ —Ç–µ—Å—Ç–µ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –∫ –Ω–∏–º –æ–±—É—á–µ–Ω–Ω—É—é –º–µ—Ç–∞-–º–æ–¥–µ–ª—å.
4.  –í `data/07_submissions/` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤–∞—à —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–∞–±–º–∏—à–µ–Ω: `submission_stack_titanic_lgbm_xgb_rf_v1.csv`.

### –®–∞–≥ 5.4: –§–∏–Ω–∞–ª—å–Ω—ã–π –†–µ–∑—É–ª—å—Ç–∞—Ç

*   **–ò—Ç–æ–≥–æ–≤—ã–π —Å–∞–±–º–∏—à–µ–Ω:** `submission_stack_... .csv` ‚Äî —ç—Ç–æ –≤–∞—à —Å–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç –Ω–∞ –ø–æ–±–µ–¥—É, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –Ω–∞ Kaggle!
*   **–ê–Ω–∞–ª–∏–∑ –≤ W&B:** –í W&B –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π `run` —Å —Ç–∏–ø–æ–º `stacking`. –í `summary` –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π CV-—Å–∫–æ—Ä –∞–Ω—Å–∞–º–±–ª—è, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å–æ —Å–∫–æ—Ä–∞–º–∏ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.

**–í—ã–≤–æ–¥—ã:**
–ú—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ –≤–µ—Å—å –ø—É—Ç—å! –ú—ã –Ω–∞—á–∞–ª–∏ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ baseline, –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞–ª–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏, –æ—Ç–±–∏—Ä–∞–ª–∏ –ª—É—á—à–∏–µ, —Ç—é–Ω–∏–Ω–≥–æ–≤–∞–ª–∏ –º–æ–¥–µ–ª—å –∏, –Ω–∞–∫–æ–Ω–µ—Ü, –æ–±—ä–µ–¥–∏–Ω–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ –µ—â–µ –±–æ–ª–µ–µ –º–æ—â–Ω—ã–π –∞–Ω—Å–∞–º–±–ª—å. –í—ã –æ—Å–≤–æ–∏–ª–∏ –ø–æ–ª–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π workflow –¥–ª—è –ø–æ–±–µ–¥—ã –≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö.