# README: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ò—Å—Ö–æ–¥–Ω–æ–≥–æ –ö–æ–¥–∞ (`src/`)

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ "–º–∞—à–∏–Ω–Ω–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ" –Ω–∞—à–µ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞! –í —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã.

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–Ω—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç–æ, –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.

## 1. üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í –æ—Å–Ω–æ–≤–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ª–µ–∂–∞—Ç —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞:

1.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Separation of Concerns):** –ö–æ–¥ —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –º–æ–¥—É–ª–∏, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é, —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É.
    *   **–°–∫—Ä–∏–ø—Ç—ã-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã** (`train.py`, `make_features.py`) —É–ø—Ä–∞–≤–ª—è—é—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.
    *   **–ú–æ–¥—É–ª—å–Ω—ã–µ "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏"** (`features/`, `models/`, `metrics/`) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏".

2.  **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (Configuration over Code):** –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ (–∫–∞–∫—É—é –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–µ –≤ –∫–æ–¥–µ, –∞ –≤ `.yaml` —Ñ–∞–π–ª–∞—Ö –≤ –ø–∞–ø–∫–µ `conf/`. –°–∫—Ä–∏–ø—Ç—ã —è–≤–ª—è—é—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ —ç—Ç–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

3.  **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—é:** –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–º–æ–¥–µ–ª–∏, –º–µ—Ç—Ä–∏–∫–∏, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤) –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –ë–∞–∑–æ–≤—ã—Ö –ö–ª–∞—Å—Å–æ–≤ (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–µ –∏–∑–º–µ–Ω—è—è –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥.

---

## 2. üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ò—Å—Ö–æ–¥–Ω–æ–≥–æ –ö–æ–¥–∞

### 2.1. –°–∫—Ä–∏–ø—Ç—ã-–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã (–¢–æ—á–∫–∏ –í—Ö–æ–¥–∞)

–≠—Ç–æ –≥–ª–∞–≤–Ω—ã–µ `.py` —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –±—É–¥–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

*   `make_features.py`: **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∫ –Ω–∏–º –∫–æ–Ω–≤–µ–π–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤, –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤ `conf/feature_engineering/`. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –≤ W&B.
*   `train.py`: **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –æ–±—É—á–µ–Ω–∏—è.** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏, –æ–±—É—á–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å –Ω–∞ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–∏–ª–∏ –Ω–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–º–æ–¥–µ–ª–∏, OOF, —Å–∞–±–º–∏—à–µ–Ω).
*   `select_features.py`: **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–±–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.** –û–±—É—á–∞–µ—Ç –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º –ª—É—á—à–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
*   `tune.py`: **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥–±–æ—Ä–∞ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Optuna` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª—É—á—à–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤—ã–∑—ã–≤–∞—è `train.py`.
*   `stack.py`: **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å—Ç–µ–∫–∏–Ω–≥–∞.** –û–±—É—á–∞–µ—Ç –º–µ—Ç–∞-–º–æ–¥–µ–ª—å –Ω–∞ OOF-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π.
*   `predict.py`: **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞.** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
*   `pseudo_label.py`: **–ú–µ—Ç–∞-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä.** –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–æ–∂–Ω—ã–º, –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø—Å–µ–≤–¥–æ-–ª–µ–π–±–ª–∏–Ω–≥–∞, –≤—ã–∑—ã–≤–∞—è `make_features.py` –∏ `train.py` –≤ —Ü–∏–∫–ª–µ.

### 2.2. –ú–æ–¥—É–ª—å–Ω—ã–µ "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏"

–≠—Ç–æ –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ("—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏").

*   `features/`: **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.** –°–∞–º—ã–π –±–æ–ª—å—à–æ–π –∏ –≤–∞–∂–Ω—ã–π –º–æ–¥—É–ª—å. –°–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Å—è—Ç–∫–∏ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
    > üìñ **–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä?** –°–º. **[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –°–æ–∑–¥–∞–Ω–∏—é –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤](./features/README.md)**.

*   `models/`: **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–¥–µ–ª–µ–π.** –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å—ã-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π (LGBM, XGBoost, Sklearn –∏ —Ç.–¥.).
    > üìñ **–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å?** –°–º. **[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ú–æ–¥–µ–ª—è–º](./models/README.md)**.

*   `metrics/`: **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–µ—Ç—Ä–∏–∫.** –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å—ã-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞.
    > üìñ **–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–µ—Ç—Ä–∏–∫—É?** –°–º. **[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ú–µ—Ç—Ä–∏–∫–∞–º](./metrics/README.md)**.

*   `utils.py`: **"–Ø—â–∏–∫ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏".** –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–±–æ–ª—å—à–∏–µ, –Ω–æ –≤–∞–∂–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `seed_everything`).

---

## 3. üöÄ –ö–∞–∫ –†–∞—Å—à–∏—Ä–∏—Ç—å –§—Ä–µ–π–º–≤–æ—Ä–∫

–§—Ä–µ–π–º–≤–æ—Ä–∫ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Å —É–ø–æ—Ä–æ–º –Ω–∞ –ª–µ–≥–∫—É—é —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å. –í–æ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è:

#### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (—Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π)

1.  –°–æ–∑–¥–∞–π—Ç–µ `.py` —Ñ–∞–π–ª –≤ `src/features/custom/`.
2.  –ù–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `src.features.base.FeatureGenerator`.
3.  –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã `fit` –∏ `transform`.
4.  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ `conf/feature_engineering/` –ø–æ –ø–æ–ª–Ω–æ–º—É –ø—É—Ç–∏ –≤ `_target_`.
    *   *–î–µ—Ç–∞–ª–∏ —Å–º. –≤ `src/features/README.md`.*

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

1.  –°–æ–∑–¥–∞–π—Ç–µ `.py` —Ñ–∞–π–ª –≤ `src/models/`.
2.  –ù–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `src.models.base.ModelInterface`.
3.  –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤—Å–µ 5 –º–µ—Ç–æ–¥–æ–≤ "–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞".
4.  –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `.yaml` —Ñ–∞–π–ª –≤ `conf/model/`.
    *   *–î–µ—Ç–∞–ª–∏ —Å–º. –≤ `src/models/README.md`.*

#### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–µ—Ç—Ä–∏–∫–∏

1.  –°–æ–∑–¥–∞–π—Ç–µ `.py` —Ñ–∞–π–ª –≤ `src/metrics/`.
2.  –ù–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `src.metrics.base.MetricInterface`.
3.  –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `__call__`.
4.  –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `.yaml` —Ñ–∞–π–ª –≤ `conf/metric/`.
    *   *–î–µ—Ç–∞–ª–∏ —Å–º. –≤ [`src/metrics/README.md`](./metrics/README.md).*