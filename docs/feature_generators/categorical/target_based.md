# README: –ú–æ–¥—É–ª—å –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ü—Ä–∏–∑–Ω–∞–∫–æ–≤ - –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¢–∞—Ä–≥–µ—Ç–∞ (`categorical/target_based.py`)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ supervised-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã** –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (`target`) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –º–æ—â–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

‚ö†Ô∏è **–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï:** –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∞—Ä–≥–µ—Ç–∞ ‚Äî —ç—Ç–æ **—Å–∞–º—ã–π –º–æ—â–Ω—ã–π –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π** –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ —Ñ–∏—á–µ-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–µ. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—á—Ç–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ **—É—Ç–µ—á–∫–µ –¥–∞–Ω–Ω—ã—Ö (data leakage)** –∏ —Å–∏–ª—å–Ω–æ–º—É –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—é, –∫–æ–≥–¥–∞ –≤–∞—à–∞ –º–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–æ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ —Ç–µ—Ö–Ω–∏–∫–∏ —Å –ø–æ–ª–Ω—ã–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤.

## 1. üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è –∏ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç "—Å–ª–µ–ø—ã—Ö" –º–µ—Ç–æ–¥–æ–≤ (OHE, Count Encoding), –∫–æ—Ç–æ—Ä—ã–µ —Å–º–æ—Ç—Ä—è—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–∞–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏, target-based –º–µ—Ç–æ–¥—ã —Å–º–æ—Ç—Ä—è—Ç –Ω–∞ **–≤–∑–∞–∏–º–æ—Å–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–∏–∑–Ω–∞–∫–æ–º –∏ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**.

**–¶–µ–ª–∏ —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è:**

*   **–°–æ–∑–¥–∞–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:** –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–ú–æ—Å–∫–≤–∞" –∫–∞–∫ `[0,0,1]`, –º—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –µ–µ –∫–∞–∫ "—Å—Ä–µ–¥–Ω–∏–π —Ç–∞—Ä–≥–µ—Ç –¥–ª—è –ú–æ—Å–∫–≤—ã", —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —Å–∏–ª—å–Ω—ã–º —Å–∏–≥–Ω–∞–ª–æ–º.
*   **–†–∞–±–æ—Ç–∞ —Å –≤—ã—Å–æ–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:** –≠—Ç–∏ –º–µ—Ç–æ–¥—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å–∂–∏–º–∞—é—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –æ–¥–∏–Ω-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –ø—Ä–∏–∑–Ω–∞–∫.
*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –±–æ—Ä—å–±–∞ —Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º:** –ù–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ (smoothing)** –∏ —Å—Ç—Ä–æ–≥–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ `fit` (—Ç–æ–ª—å–∫–æ –Ω–∞ —Ç—Ä–µ–π–Ω–µ) –∏ `transform` (—Ç—Ä–µ–π–Ω –∏ —Ç–µ—Å—Ç), —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫–∏.

## 2. üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ö–æ–≥–¥–∞ –∏—Ö –ü—Ä–∏–º–µ–Ω—è—Ç—å

---

### 2.1. `TargetEncoderGenerator`

*   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ó–∞–º–µ–Ω—è–µ—Ç –∫–∞–∂–¥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ **—Å–≥–ª–∞–∂–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞—Ä–≥–µ—Ç–∞** –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ "–ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç" —Å—Ä–µ–¥–Ω–µ–µ –¥–ª—è —Ä–µ–¥–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É —Å—Ä–µ–¥–Ω–µ–º—É, –¥–µ–ª–∞—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º.

*   **üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
    *   **–î–ª—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (LightGBM, XGBoost):** –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å —É–º–µ—Ä–µ–Ω–Ω–æ–π –∏ –≤—ã—Å–æ–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.
    *   –í –∑–∞–¥–∞—á–∞—Ö **—Ä–µ–≥—Ä–µ—Å—Å–∏–∏** –∏ **–±–∏–Ω–∞—Ä–Ω–æ–π/–º–Ω–æ–≥–æ–∫–ª–∞—Å—Å–æ–≤–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏**.
    *   –ö–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–æ–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –Ω–∞–ø—Ä—è–º—É—é –æ—Ç—Ä–∞–∂–∞–ª, –∫–∞–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å–≤—è–∑–∞–Ω–∞ —Å –≤—ã—Å–æ–∫–∏–º –∏–ª–∏ –Ω–∏–∑–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ç–∞—Ä–≥–µ—Ç–∞.

*   **‚ö†Ô∏è –ü—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è:**
    *   **`smoothing_strength` ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä!** –ú–∞–ª–µ–Ω—å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Å–ª–∞–±—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º, –±–æ–ª—å—à–æ–µ ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º. –ï–≥–æ —Å—Ç–æ–∏—Ç –ø–æ–¥–±–∏—Ä–∞—Ç—å –Ω–∞ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏.
    *   –î–∞–∂–µ —Å–æ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ–º, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–Ω–æ—Å–∏—Ç —Å–º–µ—â–µ–Ω–∏–µ.

*   **‚öôÔ∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ YAML:**
    ```yaml
    - _target_: src.features.categorical.target_based.TargetEncoderGenerator
      name: "target_encode_high_card_features"
      cols: ["city", "brand"]
      # –£–∫–∞–∑—ã–≤–∞–µ–º —Ü–µ–ª–µ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (—Å—Å—ã–ª–∫–∞ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥)
      target_col: ${globals.target_col} 
      # –ü–æ–¥–±–∏—Ä–∞–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
      smoothing_strength: 30.0
    ```

---

### 2.2. `WoEEncoderGenerator` (Weight of Evidence)

*   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ó–∞–º–µ–Ω—è–µ—Ç –∫–∞–∂–¥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ –µ–µ "–í–µ—Å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (WoE), –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `ln(% –∫–ª–∞—Å—Å–∞ 1 / % –∫–ª–∞—Å—Å–∞ 0)`.

*   **üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
    *   **–ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–û –¥–ª—è –∑–∞–¥–∞—á –±–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ç–∞—Ä–≥–µ—Ç 0/1).**
    *   **–î–ª—è –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏:** WoE-–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ª–∏–Ω–µ–∞—Ä–∏–∑—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞—Ç—å. –ö–∞–∂–¥—ã–π –ø—Ä–∏–∑–Ω–∞–∫, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ WoE, –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é "–æ—Ü–µ–Ω–∫—É" –≤ —Å–∫–æ—Ä–∏–Ω–≥–æ–≤–æ–π –∫–∞—Ä—Ç–µ.
    *   –ö–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Ö–æ—Ä–æ—à–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–π –ø—Ä–∏–∑–Ω–∞–∫:
        *   `WoE > 0`: –∫–∞—Ç–µ–≥–æ—Ä–∏—è —á–∞—â–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —É –∫–ª–∞—Å—Å–∞ 1.
        *   `WoE < 0`: –∫–∞—Ç–µ–≥–æ—Ä–∏—è —á–∞—â–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —É –∫–ª–∞—Å—Å–∞ 0.
        *   `WoE ‚âà 0`: –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—Ç—å –∫–ª–∞—Å—Å—ã.

*   **‚ö†Ô∏è –ü—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è:**
    *   –°–∫—Ä–∏–ø—Ç –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —Ü–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –±–∏–Ω–∞—Ä–Ω–∞—è.
    *   –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –≥–¥–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –æ–¥–Ω–æ–≥–æ –∏–∑ –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–≤–Ω–æ –Ω—É–ª—é. –ù–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–±–æ–ª—å—à—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É `epsilon` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å.

*   **‚öôÔ∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ YAML:**
    ```yaml
    - _target_: src.features.categorical.target_based.WoEEncoderGenerator
      name: "woe_encode_for_logit"
      cols: ["region", "device_type"]
      target_col: ${globals.target_col} 
    ```

## 3. üß† –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –ó–æ–ª–æ—Ç—ã–µ –ü—Ä–∞–≤–∏–ª–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1.  **–ù–ò–ö–û–ì–î–ê –Ω–µ –æ–±—É—á–∞–π—Ç–µ Target Encoder –Ω–∞ –≤—Å–µ–π –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–µ –∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –µ–≥–æ –∫ –Ω–µ–π –∂–µ.** –≠—Ç–æ –ø—Ä—è–º–∞—è —É—Ç–µ—á–∫–∞ —Ç–∞—Ä–≥–µ—Ç–∞. –í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–¥–µ–∂–Ω–æ–π. –õ—É—á—à–∏–π, –Ω–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø–æ–¥—Ö–æ–¥ ‚Äî —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Target Encoding *–≤–Ω—É—Ç—Ä–∏* —Ñ–æ–ª–¥–æ–≤ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏. –ù–∞—à–∞ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (fit –Ω–∞ –≤—Å–µ–º —Ç—Ä–µ–π–Ω–µ, transform –Ω–∞ —Ç–µ—Å—Ç–µ) —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–º, –Ω–æ –≤—ã –¥–æ–ª–∂–Ω—ã –æ—Å–æ–∑–Ω–∞–≤–∞—Ç—å —Ä–∏—Å–∫–∏.
2.  **–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ ‚Äî –≤–∞—à –ª—É—á—à–∏–π –¥—Ä—É–≥.** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `smoothing_strength` –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º.
3.  **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:** –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å —Ä–∞–∑–Ω–æ–π —Å–∏–ª–æ–π —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `city_te_smooth10`, `city_te_smooth50`) –∏ –ø–æ–∑–≤–æ–ª–∏—Ç—å –º–æ–¥–µ–ª–∏ –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π.
4.  **–ù–µ –∑–∞–º–µ–Ω—è–π—Ç–µ –≤—Å–µ –∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–∏:** Target Encoding ‚Äî —ç—Ç–æ –Ω–µ –∑–∞–º–µ–Ω–∞, –∞ **–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** –∫ –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–∞–º. –ß–∞—Å—Ç–æ –ª—É—á—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Äî —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏—é `CountEncoding`, `TargetEncoding` –∏ `OrdinalEncoding` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.